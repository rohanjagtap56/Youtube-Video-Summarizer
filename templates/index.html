<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>YouTube Summarizer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- <style>
    body { padding-top: 2.5rem; }
    pre { white-space: pre-wrap; word-break: break-word; }
  </style> -->
  <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">

</head>
<body>
  <div class="container">
    <h1 class="mb-3">YouTube Summarizer (Supports only English and Hindi Videos)</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{category}}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="post" action="{{ url_for('summarize_route') }}" class="mb-4">
      <div class="mb-2">
        <label for="youtube_url" class="form-label">YouTube URL</label>
        <input id="youtube_url" name="youtube_url" type="url" class="form-control"
               placeholder="https://www.youtube.com/watch?v=..." required
               value="{{ youtube_url or '' }}">
      </div>
      <button id="submitBtn" class="btn btn-primary">Generate summary</button>
      <span id="busy" class="ms-2 d-none">Processingâ€¦ this may take a few seconds.</span>
    </form>

    {% if summary %}
      <h4>Summary</h4>
      <div class="card mb-3 p-3"><pre>{{ summary }}</pre></div>

      <!-- <h4>Transcript (language: {{ language or 'unknown' }})</h4>
      <div class="card p-3"><pre>{{ transcript }}</pre></div>
    {% endif %} -->
  </div>

  <script>
    const form = document.querySelector('form');
    const btn = document.getElementById('submitBtn');
    const busy = document.getElementById('busy');
    form?.addEventListener('submit', () => {
      btn.disabled = true;
      busy.classList.remove('d-none');
    });
  </script>
</body>
</html>
